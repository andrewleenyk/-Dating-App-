{"ast":null,"code":"var _jsxFileName = \"/Users/drew/general_assembly/pawpaw/unit_4/week_12/WEB3-Blog/client/src/components/Box/Box.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport launchApp from 'launch-app';\nimport * as THREE from 'three';\nimport './Box.css';\nimport { useEffect } from 'react';\nimport TweenLite from 'gsap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Box() {\n  _s();\n\n  useEffect(() => {\n    (() => {\n      window.launchApp = function () {\n        /// ---------------------------\n        //  INIT\n        /// ---------------------------\n        this.container = document.getElementById('container');\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.centerX = this.width / 2;\n        this.centerY = this.height / 2;\n        this.cubeSize = 200;\n        this.blockTime = 5000;\n        this.TransactionsPerSecond = 2000;\n        this.activeStep = 1;\n\n        this.initApp = function () {\n          this.initRenderer();\n          this.launchApp();\n          this.initMouseEvents();\n          this.animate(); // prevent animation bug when tab is inactive\n\n          TweenLite.lagSmoothing(0);\n        };\n\n        this.initRenderer = function () {\n          this.renderer = new THREE.WebGLRenderer({\n            alpha: true\n          });\n          this.renderer.setSize(window.innerWidth, window.innerHeight);\n          this.renderer.setClearColor(0x000000, 1);\n          this.renderer.sortObjects = false;\n          this.container.appendChild(this.renderer.domElement);\n          this.scene = new THREE.Scene();\n          this.scene.fog = new THREE.Fog(0x000000, 1000, 4000);\n          this.camera = new THREE.PerspectiveCamera(50, this.width / this.height, 1, 10000);\n          this.camera.position.set(0, 0, 1000);\n          this.scene.add(this.camera);\n          var ambientLight = new THREE.AmbientLight(0x999999, 0.8);\n          this.scene.add(ambientLight);\n          var self = this;\n          window.addEventListener('resize', this.onWindowResize.bind(this));\n        }; /// ---------------------------\n        //  APP\n        /// ---------------------------\n\n\n        this.launchApp = function () {\n          this.cube = this.createCubeGroup();\n          this.cube.rotation.y = 0.225;\n          this.cube.rotation.x = 0.225;\n          this.scene.add(this.cube);\n        }; /// ---------------------------\n        //  CUBE UTILS\n        /// ---------------------------\n\n\n        this.createCubeGroup = function () {\n          var cubeGroup = new THREE.Object3D();\n          var cube = this.createCube();\n          var dataMesh = this.generateCubeData();\n          cubeGroup.add(dataMesh);\n          this.createCubeLights(cubeGroup);\n          cubeGroup.add(cube);\n          return cubeGroup;\n        };\n\n        this.createCube = function () {\n          var geometry = new THREE.BoxGeometry(this.cubeSize, this.cubeSize, this.cubeSize);\n          var material = new THREE.MeshPhongMaterial({\n            color: 0x11111f,\n            side: THREE.DoubleSide,\n            opacity: .5,\n            transparent: true\n          });\n          var cube = new THREE.Mesh(geometry, material);\n          cube.name = 'cubeGeometry';\n          return cube;\n        };\n\n        this.createCubeLights = function (cubeGroup) {\n          this.lights = [];\n          var colors = ['54BE68', '2CB060', '1AA261', '0C8D64', '037868'];\n\n          for (var i = 0; i < 5; i++) {\n            var color = parseInt(colors[i % colors.length], 16);\n            var light = new THREE.PointLight(color, 5, 100);\n            light.add(new THREE.Mesh(new THREE.SphereGeometry(5, 16, 8), new THREE.MeshBasicMaterial({\n              color: color,\n              transparent: true,\n              alphaTest: 0.5,\n              opacity: 1\n            })));\n            light.name = \"cubeLights\";\n            cubeGroup.add(light);\n            this.lights.push(light);\n          }\n        };\n\n        this.generateCubeData = function () {\n          var randomTransactionsNumber = Math.floor(Math.random() * (this.blockTime / 1000 * this.TransactionsPerSecond - 0)) + 0;\n          var transactionsNumber = randomTransactionsNumber.toString();\n          var dataMesh = this.generateDataTexture(transactionsNumber);\n          dataMesh.name = \"cubeText\";\n          return dataMesh;\n        };\n\n        this.generateDataTexture = function (transactionsNumber) {\n          var bitmap = document.createElement('canvas');\n          var g = bitmap.getContext('2d');\n          var blockNumber = Math.floor(Math.random() * Math.floor(1000));\n          bitmap.width = 256;\n          bitmap.height = 256;\n          g.font = '20px Arial';\n          g.fillStyle = 'white';\n          g.fillText('Block: ' + blockNumber.toString(), this.cubeSize * 0.1, this.cubeSize * 0.4);\n          g.fillText('Transactions: ' + transactionsNumber.toString(), this.cubeSize * 0.1, this.cubeSize * 0.55);\n          var geometry = new THREE.PlaneGeometry(this.cubeSize * 0.9, this.cubeSize * 0.9);\n          var texture = new THREE.CanvasTexture(bitmap);\n          var material = new THREE.MeshBasicMaterial({\n            map: texture,\n            transparent: true,\n            color: 0xffffff,\n            opacity: 1,\n            depthWrite: false,\n            reflectivity: 100\n          });\n          var dataMesh = new THREE.Mesh(geometry, material);\n          dataMesh.position.set(0, 0, this.cubeSize / 4);\n          return dataMesh;\n        }; /// ---------------------------\n        //  UTILS\n        /// ---------------------------\n\n\n        this.onWindowResize = function (self) {\n          this.width = window.innerWidth;\n          this.height = window.innerHeight;\n          this.centerX = this.width / 2;\n          this.centerY = this.height / 2;\n          this.camera.aspect = this.width / this.height;\n          this.camera.updateProjectionMatrix();\n          this.renderer.setSize(this.width, this.height);\n        };\n\n        this.animate = function (now) {\n          requestAnimationFrame(this.animate.bind(this));\n\n          if (this.cube && this.rotationX && this.rotationY) {\n            this.cube.rotation.y += (this.rotationX - this.cube.rotation.y) * 0.05;\n            this.cube.rotation.x += (this.rotationY - this.cube.rotation.x) * 0.05;\n          }\n\n          if (this.lights) {\n            this.lights[0].position.y = Math.cos(now * (1 * 0.5 + 1) * 0.001) * 160;\n            this.lights[0].position.x = Math.sin(now * (1 * 0.5 + 1) * 0.001) * 160;\n            this.lights[0].position.z = Math.sin(now * (1 * 0.5 + 1) * 0.001) * 160;\n            this.lights[1].position.y = Math.sin(now * (1.2 * 0.5 + 1) * 0.001) * 160;\n            this.lights[1].position.x = Math.sin(now * (1.2 * 0.5 + 1) * 0.001) * 160;\n            this.lights[1].position.z = Math.cos(now * (1.2 * 0.5 + 1) * 0.001) * 160;\n            this.lights[2].position.y = Math.sin(now * (1.4 * 0.5 + 1) * 0.001) * 160;\n            this.lights[2].position.x = Math.cos(now * (1.4 * 0.5 + 1) * 0.001) * 160;\n            this.lights[2].position.z = Math.sin(now * (1.4 * 0.5 + 1) * 0.001) * 160;\n            this.lights[3].position.y = Math.cos(now * (1.6 * 0.5 + 1) * 0.001) * 160;\n            this.lights[3].position.x = Math.cos(now * (1.6 * 0.5 + 1) * 0.001) * 160;\n            this.lights[3].position.z = Math.sin(now * (1.6 * 0.5 + 1) * 0.001) * 160;\n            this.lights[4].position.y = Math.sin(now * (1.8 * 0.5 + 1) * 0.001) * 160;\n            this.lights[4].position.x = Math.cos(now * (1.8 * 0.5 + 1) * 0.001) * 160;\n            this.lights[4].position.z = Math.cos(now * (1.8 * 0.5 + 1) * 0.001) * 160;\n          }\n\n          this.renderer.render(this.scene, this.camera);\n        };\n\n        this.findMouseCoords = function (event) {\n          if (event) {\n            //FireFox\n            this.mouseX = event.pageX - document.body.scrollLeft;\n            this.mouseY = event.pageY - document.body.scrollTop;\n          } else {\n            //IE\n            this.mouseX = window.event.x + 2;\n            this.mouseY = window.event.y + 2;\n          }\n\n          var diffX = this.mouseX - this.centerX;\n          var diffY = this.mouseY - this.centerY;\n          var percentX = diffX / this.centerX;\n          var percentY = diffY / this.centerY;\n          this.rotationX = percentX / 2;\n          this.rotationY = percentY / 2;\n        };\n\n        this.findMouseCoords = this.findMouseCoords.bind(this);\n\n        this.initMouseEvents = function () {\n          this.container.addEventListener(\"mousemove\", this.findMouseCoords);\n        };\n\n        this.stopMouseEvents = function () {\n          this.container.removeEventListener(\"mousemove\", this.findMouseCoords);\n        };\n\n        this.initApp();\n      };\n\n      document.addEventListener(\"DOMContentLoaded\", function () {\n        this.app = new launchApp();\n      });\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Box, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Box;\n\nvar _c;\n\n$RefreshReg$(_c, \"Box\");","map":{"version":3,"sources":["/Users/drew/general_assembly/pawpaw/unit_4/week_12/WEB3-Blog/client/src/components/Box/Box.js"],"names":["React","Link","launchApp","THREE","useEffect","TweenLite","Box","window","container","document","getElementById","width","innerWidth","height","innerHeight","centerX","centerY","cubeSize","blockTime","TransactionsPerSecond","activeStep","initApp","initRenderer","initMouseEvents","animate","lagSmoothing","renderer","WebGLRenderer","alpha","setSize","setClearColor","sortObjects","appendChild","domElement","scene","Scene","fog","Fog","camera","PerspectiveCamera","position","set","add","ambientLight","AmbientLight","self","addEventListener","onWindowResize","bind","cube","createCubeGroup","rotation","y","x","cubeGroup","Object3D","createCube","dataMesh","generateCubeData","createCubeLights","geometry","BoxGeometry","material","MeshPhongMaterial","color","side","DoubleSide","opacity","transparent","Mesh","name","lights","colors","i","parseInt","length","light","PointLight","SphereGeometry","MeshBasicMaterial","alphaTest","push","randomTransactionsNumber","Math","floor","random","transactionsNumber","toString","generateDataTexture","bitmap","createElement","g","getContext","blockNumber","font","fillStyle","fillText","PlaneGeometry","texture","CanvasTexture","map","depthWrite","reflectivity","aspect","updateProjectionMatrix","now","requestAnimationFrame","rotationX","rotationY","cos","sin","z","render","findMouseCoords","event","mouseX","pageX","body","scrollLeft","mouseY","pageY","scrollTop","diffX","diffY","percentX","percentY","stopMouseEvents","removeEventListener","app"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAO,WAAP;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,OAAQC,SAAR,MAAwB,MAAxB;;AACA,eAAe,SAASC,GAAT,GAAe;AAAA;;AAC1BF,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,MAAM;AAEHG,MAAAA,MAAM,CAACL,SAAP,GAAmB,YAAW;AAE1B;AACA;AACA;AACA,aAAKM,SAAL,GAAiBC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAjB;AACA,aAAKC,KAAL,GAAaJ,MAAM,CAACK,UAApB;AACA,aAAKC,MAAL,GAAcN,MAAM,CAACO,WAArB;AACA,aAAKC,OAAL,GAAe,KAAKJ,KAAL,GAAW,CAA1B;AACA,aAAKK,OAAL,GAAe,KAAKH,MAAL,GAAY,CAA3B;AACA,aAAKI,QAAL,GAAgB,GAAhB;AACA,aAAKC,SAAL,GAAiB,IAAjB;AACA,aAAKC,qBAAL,GAA6B,IAA7B;AACA,aAAKC,UAAL,GAAkB,CAAlB;;AAEA,aAAKC,OAAL,GAAe,YAAW;AACtB,eAAKC,YAAL;AACA,eAAKpB,SAAL;AACA,eAAKqB,eAAL;AACA,eAAKC,OAAL,GAJsB,CAMtB;;AACAnB,UAAAA,SAAS,CAACoB,YAAV,CAAuB,CAAvB;AACH,SARD;;AAUA,aAAKH,YAAL,GAAoB,YAAW;AAC3B,eAAKI,QAAL,GAAgB,IAAIvB,KAAK,CAACwB,aAAV,CAAwB;AAACC,YAAAA,KAAK,EAAE;AAAR,WAAxB,CAAhB;AACA,eAAKF,QAAL,CAAcG,OAAd,CAAsBtB,MAAM,CAACK,UAA7B,EAAyCL,MAAM,CAACO,WAAhD;AACA,eAAKY,QAAL,CAAcI,aAAd,CAA6B,QAA7B,EAAuC,CAAvC;AACA,eAAKJ,QAAL,CAAcK,WAAd,GAA4B,KAA5B;AACA,eAAKvB,SAAL,CAAewB,WAAf,CAA2B,KAAKN,QAAL,CAAcO,UAAzC;AAEA,eAAKC,KAAL,GAAa,IAAI/B,KAAK,CAACgC,KAAV,EAAb;AACA,eAAKD,KAAL,CAAWE,GAAX,GAAiB,IAAIjC,KAAK,CAACkC,GAAV,CAAc,QAAd,EAAwB,IAAxB,EAA8B,IAA9B,CAAjB;AAEA,eAAKC,MAAL,GAAc,IAAInC,KAAK,CAACoC,iBAAV,CAA4B,EAA5B,EAAgC,KAAK5B,KAAL,GAAa,KAAKE,MAAlD,EAA0D,CAA1D,EAA6D,KAA7D,CAAd;AACA,eAAKyB,MAAL,CAAYE,QAAZ,CAAqBC,GAArB,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,IAA/B;AAEA,eAAKP,KAAL,CAAWQ,GAAX,CAAe,KAAKJ,MAApB;AAEA,cAAIK,YAAY,GAAG,IAAIxC,KAAK,CAACyC,YAAV,CAAuB,QAAvB,EAAiC,GAAjC,CAAnB;AACA,eAAKV,KAAL,CAAWQ,GAAX,CAAeC,YAAf;AAEA,cAAIE,IAAI,GAAG,IAAX;AAEAtC,UAAAA,MAAM,CAACuC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAlC;AACH,SArBD,CAzB0B,CAgD1B;AACA;AACA;;;AAEA,aAAK9C,SAAL,GAAiB,YAAW;AACxB,eAAK+C,IAAL,GAAY,KAAKC,eAAL,EAAZ;AACA,eAAKD,IAAL,CAAUE,QAAV,CAAmBC,CAAnB,GAAuB,KAAvB;AACA,eAAKH,IAAL,CAAUE,QAAV,CAAmBE,CAAnB,GAAuB,KAAvB;AACA,eAAKnB,KAAL,CAAWQ,GAAX,CAAe,KAAKO,IAApB;AACH,SALD,CApD0B,CA2D1B;AACA;AACA;;;AAEA,aAAKC,eAAL,GAAuB,YAAW;AAC9B,cAAII,SAAS,GAAG,IAAInD,KAAK,CAACoD,QAAV,EAAhB;AAEA,cAAIN,IAAI,GAAG,KAAKO,UAAL,EAAX;AACA,cAAIC,QAAQ,GAAG,KAAKC,gBAAL,EAAf;AAEAJ,UAAAA,SAAS,CAACZ,GAAV,CAAce,QAAd;AACA,eAAKE,gBAAL,CAAsBL,SAAtB;AACAA,UAAAA,SAAS,CAACZ,GAAV,CAAcO,IAAd;AAGA,iBAAOK,SAAP;AACH,SAZD;;AAcA,aAAKE,UAAL,GAAkB,YAAW;AACzB,cAAII,QAAQ,GAAG,IAAIzD,KAAK,CAAC0D,WAAV,CAAsB,KAAK5C,QAA3B,EAAqC,KAAKA,QAA1C,EAAoD,KAAKA,QAAzD,CAAf;AACA,cAAI6C,QAAQ,GAAG,IAAI3D,KAAK,CAAC4D,iBAAV,CAA4B;AACvCC,YAAAA,KAAK,EAAE,QADgC;AAEvCC,YAAAA,IAAI,EAAE9D,KAAK,CAAC+D,UAF2B;AAGvCC,YAAAA,OAAO,EAAE,EAH8B;AAIvCC,YAAAA,WAAW,EAAE;AAJ0B,WAA5B,CAAf;AAMA,cAAInB,IAAI,GAAG,IAAI9C,KAAK,CAACkE,IAAV,CAAeT,QAAf,EAAyBE,QAAzB,CAAX;AACAb,UAAAA,IAAI,CAACqB,IAAL,GAAY,cAAZ;AAEA,iBAAOrB,IAAP;AACH,SAZD;;AAcA,aAAKU,gBAAL,GAAwB,UAASL,SAAT,EAAoB;AAExC,eAAKiB,MAAL,GAAc,EAAd;AACA,cAAIC,MAAM,GAAG,CACX,QADW,EAEX,QAFW,EAGX,QAHW,EAIX,QAJW,EAKX,QALW,CAAb;;AAQA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,gBAAIT,KAAK,GAAGU,QAAQ,CAACF,MAAM,CAACC,CAAC,GAAGD,MAAM,CAACG,MAAZ,CAAP,EAA4B,EAA5B,CAApB;AACA,gBAAIC,KAAK,GAAG,IAAIzE,KAAK,CAAC0E,UAAV,CAAqBb,KAArB,EAA4B,CAA5B,EAA+B,GAA/B,CAAZ;AACAY,YAAAA,KAAK,CAAClC,GAAN,CACI,IAAIvC,KAAK,CAACkE,IAAV,CACI,IAAIlE,KAAK,CAAC2E,cAAV,CAAyB,CAAzB,EAA4B,EAA5B,EAAgC,CAAhC,CADJ,EAEI,IAAI3E,KAAK,CAAC4E,iBAAV,CAA4B;AACxBf,cAAAA,KAAK,EAAEA,KADiB;AAExBI,cAAAA,WAAW,EAAE,IAFW;AAGxBY,cAAAA,SAAS,EAAE,GAHa;AAIxBb,cAAAA,OAAO,EAAE;AAJe,aAA5B,CAFJ,CADJ;AAYAS,YAAAA,KAAK,CAACN,IAAN,GAAa,YAAb;AACAhB,YAAAA,SAAS,CAACZ,GAAV,CAAckC,KAAd;AACA,iBAAKL,MAAL,CAAYU,IAAZ,CAAiBL,KAAjB;AACH;AACJ,SA9BD;;AAgCA,aAAKlB,gBAAL,GAAwB,YAAW;AAC/B,cAAIwB,wBAAwB,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAmB,KAAKnE,SAAL,GAAiB,IAAlB,GAA0B,KAAKC,qBAAhC,GAAyD,CAA1E,CAAX,IAA2F,CAA1H;AACA,cAAImE,kBAAkB,GAAGJ,wBAAwB,CAACK,QAAzB,EAAzB;AAEA,cAAI9B,QAAQ,GAAG,KAAK+B,mBAAL,CAAyBF,kBAAzB,CAAf;AACA7B,UAAAA,QAAQ,CAACa,IAAT,GAAgB,UAAhB;AAEA,iBAAOb,QAAP;AACH,SARD;;AASA,aAAK+B,mBAAL,GAA2B,UAASF,kBAAT,EAA6B;AACpD,cAAIG,MAAM,GAAGhF,QAAQ,CAACiF,aAAT,CAAuB,QAAvB,CAAb;AACA,cAAIC,CAAC,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAR;AACA,cAAIC,WAAW,GAAGV,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBF,IAAI,CAACC,KAAL,CAAW,IAAX,CAA3B,CAAlB;AACAK,UAAAA,MAAM,CAAC9E,KAAP,GAAe,GAAf;AACA8E,UAAAA,MAAM,CAAC5E,MAAP,GAAgB,GAAhB;AACA8E,UAAAA,CAAC,CAACG,IAAF,GAAS,YAAT;AACAH,UAAAA,CAAC,CAACI,SAAF,GAAc,OAAd;AACAJ,UAAAA,CAAC,CAACK,QAAF,CAAW,YAAYH,WAAW,CAACN,QAAZ,EAAvB,EAA+C,KAAKtE,QAAL,GAAgB,GAA/D,EAAoE,KAAKA,QAAL,GAAgB,GAApF;AACA0E,UAAAA,CAAC,CAACK,QAAF,CAAW,mBAAmBV,kBAAkB,CAACC,QAAnB,EAA9B,EAA6D,KAAKtE,QAAL,GAAgB,GAA7E,EAAkF,KAAKA,QAAL,GAAgB,IAAlG;AAEA,cAAI2C,QAAQ,GAAG,IAAIzD,KAAK,CAAC8F,aAAV,CAAwB,KAAKhF,QAAL,GAAgB,GAAxC,EAA6C,KAAKA,QAAL,GAAgB,GAA7D,CAAf;AACA,cAAIiF,OAAO,GAAG,IAAI/F,KAAK,CAACgG,aAAV,CAAwBV,MAAxB,CAAd;AACA,cAAI3B,QAAQ,GAAG,IAAI3D,KAAK,CAAC4E,iBAAV,CAA4B;AACvCqB,YAAAA,GAAG,EAAEF,OADkC;AAEvC9B,YAAAA,WAAW,EAAE,IAF0B;AAGvCJ,YAAAA,KAAK,EAAE,QAHgC;AAIvCG,YAAAA,OAAO,EAAE,CAJ8B;AAKvCkC,YAAAA,UAAU,EAAE,KAL2B;AAMvCC,YAAAA,YAAY,EAAE;AANyB,WAA5B,CAAf;AASA,cAAI7C,QAAQ,GAAG,IAAItD,KAAK,CAACkE,IAAV,CAAeT,QAAf,EAAyBE,QAAzB,CAAf;AACAL,UAAAA,QAAQ,CAACjB,QAAT,CAAkBC,GAAlB,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,KAAKxB,QAAL,GAAgB,CAA5C;AAEA,iBAAOwC,QAAP;AACH,SA1BD,CApI0B,CAgK1B;AACA;AACA;;;AAEA,aAAKV,cAAL,GAAsB,UAASF,IAAT,EAAe;AACjC,eAAKlC,KAAL,GAAaJ,MAAM,CAACK,UAApB;AACA,eAAKC,MAAL,GAAcN,MAAM,CAACO,WAArB;AACA,eAAKC,OAAL,GAAe,KAAKJ,KAAL,GAAW,CAA1B;AACA,eAAKK,OAAL,GAAe,KAAKH,MAAL,GAAY,CAA3B;AAEA,eAAKyB,MAAL,CAAYiE,MAAZ,GAAqB,KAAK5F,KAAL,GAAa,KAAKE,MAAvC;AACA,eAAKyB,MAAL,CAAYkE,sBAAZ;AAEA,eAAK9E,QAAL,CAAcG,OAAd,CAAsB,KAAKlB,KAA3B,EAAkC,KAAKE,MAAvC;AACH,SAVD;;AAYA,aAAKW,OAAL,GAAe,UAASiF,GAAT,EAAc;AACzBC,UAAAA,qBAAqB,CAAC,KAAKlF,OAAL,CAAawB,IAAb,CAAkB,IAAlB,CAAD,CAArB;;AAEA,cAAI,KAAKC,IAAL,IAAa,KAAK0D,SAAlB,IAA+B,KAAKC,SAAxC,EAAmD;AAC/C,iBAAK3D,IAAL,CAAUE,QAAV,CAAmBC,CAAnB,IAAwB,CAAC,KAAKuD,SAAL,GAAiB,KAAK1D,IAAL,CAAUE,QAAV,CAAmBC,CAArC,IAA0C,IAAlE;AACA,iBAAKH,IAAL,CAAUE,QAAV,CAAmBE,CAAnB,IAAwB,CAAC,KAAKuD,SAAL,GAAiB,KAAK3D,IAAL,CAAUE,QAAV,CAAmBE,CAArC,IAA0C,IAAlE;AACH;;AAED,cAAI,KAAKkB,MAAT,EAAiB;AACb,iBAAKA,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBY,CAAxB,GAA4B+B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,IAAI,GAAJ,GAAU,CAAd,CAAJ,GAAwB,KAAjC,IAA0C,GAAtE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBa,CAAxB,GAA4B8B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,IAAI,GAAJ,GAAU,CAAd,CAAJ,GAAwB,KAAjC,IAA0C,GAAtE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBuE,CAAxB,GAA4B5B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,IAAI,GAAJ,GAAU,CAAd,CAAJ,GAAwB,KAAjC,IAA0C,GAAtE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBY,CAAxB,GAA4B+B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBa,CAAxB,GAA4B8B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBuE,CAAxB,GAA4B5B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBY,CAAxB,GAA4B+B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBa,CAAxB,GAA4B8B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBuE,CAAxB,GAA4B5B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBY,CAAxB,GAA4B+B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBa,CAAxB,GAA4B8B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBuE,CAAxB,GAA4B5B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBY,CAAxB,GAA4B+B,IAAI,CAAC2B,GAAL,CAAUL,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBa,CAAxB,GAA4B8B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACA,iBAAKlC,MAAL,CAAY,CAAZ,EAAe/B,QAAf,CAAwBuE,CAAxB,GAA4B5B,IAAI,CAAC0B,GAAL,CAAUJ,GAAG,IAAI,MAAM,GAAN,GAAY,CAAhB,CAAJ,GAA0B,KAAnC,IAA4C,GAAxE;AACH;;AAED,eAAK/E,QAAL,CAAcsF,MAAd,CAAqB,KAAK9E,KAA1B,EAAiC,KAAKI,MAAtC;AACH,SA3BD;;AA6BA,aAAK2E,eAAL,GAAuB,UAASC,KAAT,EAAgB;AACnC,cAAIA,KAAJ,EAAW;AACP;AACA,iBAAKC,MAAL,GAAcD,KAAK,CAACE,KAAN,GAAc3G,QAAQ,CAAC4G,IAAT,CAAcC,UAA1C;AACA,iBAAKC,MAAL,GAAcL,KAAK,CAACM,KAAN,GAAc/G,QAAQ,CAAC4G,IAAT,CAAcI,SAA1C;AACH,WAJD,MAIO;AACH;AACA,iBAAKN,MAAL,GAAc5G,MAAM,CAAC2G,KAAP,CAAa7D,CAAb,GAAiB,CAA/B;AACA,iBAAKkE,MAAL,GAAchH,MAAM,CAAC2G,KAAP,CAAa9D,CAAb,GAAiB,CAA/B;AACH;;AAED,cAAIsE,KAAK,GAAG,KAAKP,MAAL,GAAc,KAAKpG,OAA/B;AACA,cAAI4G,KAAK,GAAG,KAAKJ,MAAL,GAAc,KAAKvG,OAA/B;AACA,cAAI4G,QAAQ,GAAGF,KAAK,GAAG,KAAK3G,OAA5B;AACA,cAAI8G,QAAQ,GAAGF,KAAK,GAAG,KAAK3G,OAA5B;AAEA,eAAK2F,SAAL,GAAiBiB,QAAQ,GAAC,CAA1B;AACA,eAAKhB,SAAL,GAAiBiB,QAAQ,GAAC,CAA1B;AACH,SAlBD;;AAmBA,aAAKZ,eAAL,GAAuB,KAAKA,eAAL,CAAqBjE,IAArB,CAA0B,IAA1B,CAAvB;;AAEA,aAAKzB,eAAL,GAAuB,YAAW;AAC9B,eAAKf,SAAL,CAAesC,gBAAf,CAAgC,WAAhC,EAA6C,KAAKmE,eAAlD;AACH,SAFD;;AAGA,aAAKa,eAAL,GAAuB,YAAW;AAC9B,eAAKtH,SAAL,CAAeuH,mBAAf,CAAmC,WAAnC,EAAgD,KAAKd,eAArD;AACH,SAFD;;AAIA,aAAK5F,OAAL;AACH,OA1OD;;AA4OAZ,MAAAA,QAAQ,CAACqC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAW;AACrD,aAAKkF,GAAL,GAAW,IAAI9H,SAAJ,EAAX;AACH,OAFD;AAIH,KAlPD;AAoPH,GArPQ,EAqPN,EArPM,CAAT;AAsPA,sBACI;AAAK,IAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GA5PuBI,G;;KAAAA,G","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport launchApp from 'launch-app'\nimport * as THREE from 'three';\nimport './Box.css';\nimport { useEffect } from 'react';\n\nimport  TweenLite  from 'gsap';\nexport default function Box() {\n    useEffect(() => {\n        (() => {\n    \n            window.launchApp = function() {\n                \n                /// ---------------------------\n                //  INIT\n                /// ---------------------------\n                this.container = document.getElementById('container');\n                this.width = window.innerWidth;\n                this.height = window.innerHeight;\n                this.centerX = this.width/2;\n                this.centerY = this.height/2;\n                this.cubeSize = 200;\n                this.blockTime = 5000;\n                this.TransactionsPerSecond = 2000;\n                this.activeStep = 1;\n                \n                this.initApp = function() {            \n                    this.initRenderer();\n                    this.launchApp();\n                    this.initMouseEvents();\n                    this.animate();            \n                    \n                    // prevent animation bug when tab is inactive\n                    TweenLite.lagSmoothing(0);\n                }\n                \n                this.initRenderer = function() {\n                    this.renderer = new THREE.WebGLRenderer({alpha: true});\n                    this.renderer.setSize(window.innerWidth, window.innerHeight);\n                    this.renderer.setClearColor( 0x000000, 1);\n                    this.renderer.sortObjects = false\n                    this.container.appendChild(this.renderer.domElement);\n        \n                    this.scene = new THREE.Scene();\n                    this.scene.fog = new THREE.Fog(0x000000, 1000, 4000);\n        \n                    this.camera = new THREE.PerspectiveCamera(50, this.width / this.height, 1, 10000);\n                    this.camera.position.set(0, 0, 1000);\n                    \n                    this.scene.add(this.camera);\n                    \n                    var ambientLight = new THREE.AmbientLight(0x999999, 0.8);\n                    this.scene.add(ambientLight);\n                    \n                    var self = this;\n                    \n                    window.addEventListener('resize', this.onWindowResize.bind(this));\n                }\n                \n                /// ---------------------------\n                //  APP\n                /// ---------------------------\n                \n                this.launchApp = function() {\n                    this.cube = this.createCubeGroup();\n                    this.cube.rotation.y = 0.225;\n                    this.cube.rotation.x = 0.225;\n                    this.scene.add(this.cube);\n                }\n                \n                /// ---------------------------\n                //  CUBE UTILS\n                /// ---------------------------\n                \n                this.createCubeGroup = function() {\n                    var cubeGroup = new THREE.Object3D();\n                    \n                    var cube = this.createCube();            \n                    var dataMesh = this.generateCubeData();\n                    \n                    cubeGroup.add(dataMesh);\n                    this.createCubeLights(cubeGroup);\n                    cubeGroup.add(cube);\n                    \n                    \n                    return cubeGroup;\n                }\n                \n                this.createCube = function() {\n                    var geometry = new THREE.BoxGeometry(this.cubeSize, this.cubeSize, this.cubeSize);\n                    var material = new THREE.MeshPhongMaterial({ \n                        color: 0x11111f, \n                        side: THREE.DoubleSide, \n                        opacity: .5,                \n                        transparent: true\n                    });\n                    var cube = new THREE.Mesh(geometry, material);\n                    cube.name = 'cubeGeometry';\n                    \n                    return cube;\n                }\n                \n                this.createCubeLights = function(cubeGroup) {\n                    \n                    this.lights = [];\n                    var colors = [\n                      '54BE68',\n                      '2CB060',\n                      '1AA261',\n                      '0C8D64',\n                      '037868'\n                    ];\n        \n                    for (var i = 0; i < 5; i++) {\n                        var color = parseInt(colors[i % colors.length], 16);\n                        var light = new THREE.PointLight(color, 5, 100);\n                        light.add(\n                            new THREE.Mesh(\n                                new THREE.SphereGeometry(5, 16, 8),\n                                new THREE.MeshBasicMaterial({\n                                    color: color,\n                                    transparent: true,\n                                    alphaTest: 0.5,\n                                    opacity: 1\n                                })\n                            )\n                        );\n        \n                        light.name = \"cubeLights\";\n                        cubeGroup.add(light);\n                        this.lights.push(light);\n                    }                \n                }\n                \n                this.generateCubeData = function() {\n                    var randomTransactionsNumber = Math.floor(Math.random() * (((this.blockTime / 1000) * this.TransactionsPerSecond) - 0)) + 0;\n                    var transactionsNumber = randomTransactionsNumber.toString();\n                    \n                    var dataMesh = this.generateDataTexture(transactionsNumber);\n                    dataMesh.name = \"cubeText\";\n                    \n                    return dataMesh;\n                }\n                this.generateDataTexture = function(transactionsNumber) {\n                    var bitmap = document.createElement('canvas');\n                    var g = bitmap.getContext('2d');\n                    var blockNumber = Math.floor(Math.random() * Math.floor(1000));\n                    bitmap.width = 256;\n                    bitmap.height = 256;\n                    g.font = '20px Arial';\n                    g.fillStyle = 'white';\n                    g.fillText('Block: ' + blockNumber.toString(), this.cubeSize * 0.1, this.cubeSize * 0.4);\n                    g.fillText('Transactions: ' + transactionsNumber.toString(), this.cubeSize * 0.1, this.cubeSize * 0.55);\n        \n                    var geometry = new THREE.PlaneGeometry(this.cubeSize * 0.9, this.cubeSize * 0.9);\n                    var texture = new THREE.CanvasTexture(bitmap);\n                    var material = new THREE.MeshBasicMaterial({\n                        map: texture,\n                        transparent: true,\n                        color: 0xffffff,\n                        opacity: 1,\n                        depthWrite: false,\n                        reflectivity: 100\n                    });\n                    \n                    var dataMesh = new THREE.Mesh(geometry, material);\n                    dataMesh.position.set(0, 0, this.cubeSize / 4);\n        \n                    return dataMesh;\n                }\n                \n                /// ---------------------------\n                //  UTILS\n                /// ---------------------------\n                \n                this.onWindowResize = function(self) {            \n                    this.width = window.innerWidth;\n                    this.height = window.innerHeight;\n                    this.centerX = this.width/2;\n                    this.centerY = this.height/2;\n                    \n                    this.camera.aspect = this.width / this.height;\n                    this.camera.updateProjectionMatrix();\n        \n                    this.renderer.setSize(this.width, this.height);\n                }\n                \n                this.animate = function(now) {\n                    requestAnimationFrame(this.animate.bind(this));\n        \n                    if (this.cube && this.rotationX && this.rotationY) {\n                        this.cube.rotation.y += (this.rotationX - this.cube.rotation.y) * 0.05;\n                        this.cube.rotation.x += (this.rotationY - this.cube.rotation.x) * 0.05;\n                    }\n                    \n                    if (this.lights) {                \n                        this.lights[0].position.y = Math.cos((now * (1 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[0].position.x = Math.sin((now * (1 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[0].position.z = Math.sin((now * (1 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[1].position.y = Math.sin((now * (1.2 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[1].position.x = Math.sin((now * (1.2 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[1].position.z = Math.cos((now * (1.2 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[2].position.y = Math.sin((now * (1.4 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[2].position.x = Math.cos((now * (1.4 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[2].position.z = Math.sin((now * (1.4 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[3].position.y = Math.cos((now * (1.6 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[3].position.x = Math.cos((now * (1.6 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[3].position.z = Math.sin((now * (1.6 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[4].position.y = Math.sin((now * (1.8 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[4].position.x = Math.cos((now * (1.8 * 0.5 + 1)) * 0.001) * 160;\n                        this.lights[4].position.z = Math.cos((now * (1.8 * 0.5 + 1)) * 0.001) * 160;\n                    }\n        \n                    this.renderer.render(this.scene, this.camera);            \n                }\n                \n                this.findMouseCoords = function(event) {\n                    if (event) {\n                        //FireFox\n                        this.mouseX = event.pageX - document.body.scrollLeft;\n                        this.mouseY = event.pageY - document.body.scrollTop;\n                    } else {\n                        //IE\n                        this.mouseX = window.event.x + 2;\n                        this.mouseY = window.event.y + 2;\n                    }\n        \n                    var diffX = this.mouseX - this.centerX;\n                    var diffY = this.mouseY - this.centerY;\n                    var percentX = diffX / this.centerX;\n                    var percentY = diffY / this.centerY;\n        \n                    this.rotationX = percentX/2;\n                    this.rotationY = percentY/2;\n                }\n                this.findMouseCoords = this.findMouseCoords.bind(this)\n                \n                this.initMouseEvents = function() {\n                    this.container.addEventListener(\"mousemove\", this.findMouseCoords);\n                }\n                this.stopMouseEvents = function() {\n                    this.container.removeEventListener(\"mousemove\", this.findMouseCoords);\n                }\n                \n                this.initApp(); \n            };\n            \n            document.addEventListener(\"DOMContentLoaded\", function() {\n                this.app = new launchApp();\n            });\n        \n        })();\n\n    }, []);\n    return (\n        <div id=\"container\">\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}